!function(a){function b(){g.attr("disabled","disabled"),c(0),d()}function c(a){g.text("Processing, please be patient ... "+a+"%")}function d(){var b={action:"aos_reindex",page:h};a.post(ajaxurl,b,function(a){return"undefined"!=typeof a.success&&a.success===!1?(alert("An error occurred: "+a.data.message),void f()):"undefined"==typeof a.recordsPushedCount?(alert("You should first configure your Algolia account settings."),void f()):(i+=a.recordsPushedCount,progress=Math.round(h/a.totalPagesCount*100),c(progress),void(a.finished!==!0?(h++,d()):e()))}).fail(function(a){alert("An error occurred. Please try again.")})}function e(){alert("Successfully indexed "+i+" orders!"),f()}function f(){i=0,h=1,g.text("Re-index orders"),g.removeAttr("disabled")}var g=a(".aos-reindex-button"),h=1,i=0;g.on("click",b)}(jQuery);